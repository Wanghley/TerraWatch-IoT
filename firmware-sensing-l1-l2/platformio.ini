[env:esp32-s3-devkitc-1-n16r8]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; --- Hardware Config for N16R8 ---
; N16R8 has 16MB Flash and 8MB OPI PSRAM
board_build.arduino.memory_type = qio_opi 
board_build.flash_mode = qio
board_build.psram_type = opi
board_upload.flash_size = 16MB
board_upload.maximum_size = 16777216
board_build.partitions = default_16MB.csv

; --- Build Flags ---
build_flags = 
    -DBOARD_HAS_PSRAM
    -DCORE_DEBUG_LEVEL=3 ; Info level logging
    -mfix-esp32-psram-cache-issue

; --- Serial & Upload ---
monitor_speed = 115200
upload_speed = 921600
monitor_filters = esp32_exception_decoder

; --- Libraries ---
lib_deps = 
    bblanchon/ArduinoJson @ ^7.4.2
    adafruit/Adafruit AMG88xx Library @ ^1.3.2
    dfrobot/DFRobot_C4001 @ ^1.0.0
    adafruit/Adafruit BusIO @ ^1.17.4
    tanakamasayuki/TensorFlowLite_ESP32 @ ^1.0.0