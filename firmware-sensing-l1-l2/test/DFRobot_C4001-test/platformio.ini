; For an ESP32-S3 board with 16MB Flash and 8MB Octal PSRAM
[env:esp32-s3-devkit-16m-opi]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

monitor_speed = 115200

; --- Hardware-Specific Settings ---

; 1. Tell the build system about the 16MB flash size
board_build.flash_size = 16MB

; 2. Select a partition map that uses the 16MB of flash
board_build.partitions = default_16MB.csv

; 3. Configure the memory access modes for QIO Flash and Octal PSRAM
board_build.flash_mode = qio
board_build.psram_type = opi
board_build.arduino.memory_type = qio_opi ; Critical for Arduino Core 2.0.4+

; 4. Enable PSRAM in the code
board_build.extra_flags = -DBOARD_HAS_PSRAM

lib_deps =
    dfrobot/DFRobot_C4001@^1.0.0
    fastled/FastLED@^3.6.0